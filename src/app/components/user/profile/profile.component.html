<div class="profile-container" *ngIf="!loading && user">  <!-- Hero Profile Header -->
  <div class="profile-hero">
    <div class="hero-content">
      <!-- Hero Avatar -->
      <div class="hero-avatar">
        <div class="avatar-container">
          <div class="user-avatar">
            <span class="avatar-initial">{{ user.username.charAt(0).toUpperCase() }}</span>
          </div>
          <div class="status-indicator"></div>
        </div>
      </div>

      <!-- Hero Info -->
      <div class="hero-info">
        <div class="user-title">
          <h1 class="username">{{ user.username }}</h1>
          <span class="verified-badge" *ngIf="user.premium">
            <mat-icon>star</mat-icon>
            Premium
          </span>
          <span class="admin-badge" *ngIf="user.roles.includes('ROLE_ADMIN')">
            <mat-icon>admin_panel_settings</mat-icon>
            Administrator
          </span>
        </div>
        
        <div class="user-meta">
          <div class="meta-item">
            <mat-icon>email</mat-icon>
            <span>{{ user.email }}</span>
          </div>
          <div class="meta-item">
            <mat-icon>calendar_today</mat-icon>
            <span>Lid sinds {{ user.createdAt | date:'MMMM yyyy' }}</span>
          </div>
        </div>

        <div class="hero-actions">
          <a class="action-btn primary" *ngIf="isAdmin()" routerLink="/admin">
            <mat-icon>dashboard</mat-icon>
            <span>Beheerderspaneel</span>
          </a>          <button class="action-btn danger" (click)="logout()">
            <mat-icon>logout</mat-icon>
            <span>Uitloggen</span>
          </button>
        </div>
      </div>
    </div>
  </div>

  <!-- Tab Navigation -->
  <div class="profile-tabs">
    <mat-tab-group [(selectedIndex)]="selectedTabIndex" animationDuration="300ms">
      <mat-tab>
        <ng-template mat-tab-label>
          <mat-icon>dashboard</mat-icon>
          <span>Profiel</span>
        </ng-template>
        <div class="tab-content">
          <!-- Stats Cards -->
          <div class="stats-cards">
            <div class="stat-card">
              <div class="stat-header">
                <span class="stat-title">Account Status</span>
                <mat-icon class="stat-icon">account_circle</mat-icon>
              </div>
              <div class="stat-value">Actief</div>
              <div class="stat-change positive">
                <mat-icon>trending_up</mat-icon>
                <span>Online</span>
              </div>
            </div>
            
            <div class="stat-card">
              <div class="stat-header">
                <span class="stat-title">Gelikte Video's</span>
                <mat-icon class="stat-icon">favorite</mat-icon>
              </div>
              <div class="stat-value">{{ likedVideos.length }}</div>
              <div class="stat-change positive">
                <mat-icon>add</mat-icon>
                <span>+{{ likedVideos.length > 0 ? '1' : '0' }} deze week</span>
              </div>
            </div>
            
            <div class="stat-card">
              <div class="stat-header">
                <span class="stat-title">Favorieten</span>
                <mat-icon class="stat-icon">star</mat-icon>
              </div>
              <div class="stat-value">{{ favoriteVideos.length }}</div>
              <div class="stat-change positive">
                <mat-icon>star</mat-icon>
                <span>Top collectie</span>
              </div>
            </div>
            
            <div class="stat-card">
              <div class="stat-header">
                <span class="stat-title">Lid sinds</span>
                <mat-icon class="stat-icon">calendar_today</mat-icon>
              </div>
              <div class="stat-value">{{ getDaysSinceJoined() }}</div>
              <div class="stat-change positive">
                <mat-icon>access_time</mat-icon>
                <span>dagen</span>
              </div>
            </div>
          </div>

          <!-- Account Information -->
          <div class="account-info">
            <div class="info-grid">
              <div class="info-card">
                <h3 class="card-title">
                  <mat-icon>person</mat-icon>
                  Account Details
                </h3>
                <div class="info-item">
                  <span class="item-label">Gebruikersnaam:</span>
                  <span class="item-value">{{ user.username }}</span>
                </div>
                <div class="info-item">
                  <span class="item-label">E-mail:</span>
                  <span class="item-value email">{{ user.email }}</span>
                </div>
                <div class="info-item">
                  <span class="item-label">Account Type:</span>
                  <span class="item-value status" [class]="user.premium ? 'active' : 'inactive'">
                    {{ user.premium ? 'Premium' : 'Standaard' }}
                  </span>
                </div>
                <div class="info-item">
                  <span class="item-label">Rol:</span>
                  <span class="item-value">{{ user.roles.includes('ROLE_ADMIN') ? 'Administrator' : 'Gebruiker' }}</span>
                </div>
              </div>
              
              <div class="info-card">
                <h3 class="card-title">
                  <mat-icon>settings</mat-icon>
                  Voorkeuren
                </h3>
                <div class="info-item">
                  <span class="item-label">Thema:</span>
                  <span class="item-value">Donker</span>
                </div>
                <div class="info-item">
                  <span class="item-label">Taal:</span>
                  <span class="item-value">Nederlands</span>
                </div>
                <div class="info-item">
                  <span class="item-label">Notificaties:</span>
                  <span class="item-value status active">Ingeschakeld</span>
                </div>
                <div class="info-item">
                  <span class="item-label">Privacy:</span>
                  <span class="item-value">Priv√©</span>
                </div>
              </div>
            </div>
          </div>
        </div>
      </mat-tab>

      <mat-tab>
        <ng-template mat-tab-label>
          <mat-icon>favorite</mat-icon>
          <span>Gelikte Video's</span>
          <span class="tab-count">{{ likedVideos.length }}</span>
        </ng-template>
        <div class="tab-content">
          <div class="videos-section" *ngIf="likedVideos.length > 0; else noLikedVideos">
            <div class="videos-grid">              <div class="video-card" *ngFor="let video of likedVideos">
                <div class="video-thumbnail" (click)="watchVideo(video.id)">
                  <img [src]="video.coverImageUrl" [alt]="video.title" />
                  <div class="video-overlay">
                    <mat-icon class="play-btn">play_arrow</mat-icon>
                  </div>
                  <!-- <div class="video-duration">{{ formatDuration(video.duration) }}</div> -->
                </div>
                <div class="video-info">
                  <h3 class="video-title">{{ video.title }}</h3>
                  <p class="video-description">{{ video.description }}</p>
                  <div class="video-meta">
                    <span class="video-date">{{ video.createdAt | date:'dd MMM yyyy' }}</span>
                    <button class="unlike-btn" (click)="unlikeVideo(video.id)">
                      <mat-icon>favorite</mat-icon>
                    </button>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <ng-template #noLikedVideos>
            <div class="empty-state">
              <mat-icon>favorite_border</mat-icon>
              <h3>Geen gelikte video's</h3>
              <p>Je hebt nog geen video's geliket. Ga naar de videolijst om video's te liken!</p>
            </div>
          </ng-template>
        </div>
      </mat-tab>

      <mat-tab>
        <ng-template mat-tab-label>
          <mat-icon>star</mat-icon>
          <span>Favorieten</span>
          <span class="tab-count">{{ favoriteVideos.length }}</span>
        </ng-template>
        <div class="tab-content">
          <div class="videos-section" *ngIf="favoriteVideos.length > 0; else noFavoriteVideos">
            <div class="videos-grid">              <div class="video-card" *ngFor="let video of favoriteVideos">
                <div class="video-thumbnail" (click)="watchVideo(video.id)">
                  <img [src]="video.coverImageUrl" [alt]="video.title" />
                  <div class="video-overlay">
                    <mat-icon class="play-btn">play_arrow</mat-icon>
                  </div>
                  <!-- <div class="video-duration">{{ formatDuration(video.duration) }}</div> -->
                </div>
                <div class="video-info">
                  <h3 class="video-title">{{ video.title }}</h3>
                  <p class="video-description">{{ video.description }}</p>
                  <div class="video-meta">
                    <span class="video-date">{{ video.createdAt | date:'dd MMM yyyy' }}</span>
                    <button class="unfavorite-btn" (click)="removeFavorite(video.id)">
                      <mat-icon>star</mat-icon>
                    </button>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <ng-template #noFavoriteVideos>
            <div class="empty-state">
              <mat-icon>star_border</mat-icon>
              <h3>Geen favorieten</h3>
              <p>Je hebt nog geen favoriete video's. Voeg video's toe aan je favorieten!</p>
            </div>
          </ng-template>
        </div>
      </mat-tab>
    </mat-tab-group>
  </div></div>

<div class="loading" *ngIf="loading">
  <div class="spinner"></div>
  <p>Profiel laden...</p>
</div>
